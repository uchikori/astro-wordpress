---
import { joinClasses } from "../utils/joinClasses";
import { FontAwesomeIcon } from "@fortawesome/react-fontawesome";
import { faChevronDown } from "@fortawesome/free-solid-svg-icons";
import { replaceUrls } from "../utils/replaceUrls.ts";
import { log } from "console";
type Props = {
  styles: string;
  classes: string;
  label: string;
  url: string;
};
const { styles, classes, label, url } = Astro.props;
const allClasses = joinClasses(classes, "group relative");

//WordPressのURLをAstroのURLに置き換え
const href = replaceUrls(url, Astro.url.host);
---

<li class={allClasses} style={styles}>
  <a href={href} class="block px-6 sm:px-0 py-3 sm:py-0">
    {label}
    <FontAwesomeIcon icon={faChevronDown} className="text-xs pl-1" />
  </a>
  <ul class="pl-4 sm:hidden group-hover:block sm:absolute sm:top-full sm:right-0 sm:text-right whitespace-nowrap bg-event-horizon py-2 [&_a]:px-4 [&_a]:py-2 [&_a]:block z-20">
    <slot />
  </ul>
</li>
